# ‚úÖ –ó–∞–¥–∞—á–∞ 1 ‚Äî –ú–∞—Å–∫–∞ email –∏–∑ –ª–æ–≥–∞
# –ï—Å—Ç—å —Å—Ç—Ä–æ–∫–∞:
# log = "[2025-06-01 14:22] User: mironovAV, Email: admin@site.ru, Action: login"
# üîπ –ù—É–∂–Ω–æ:
# –í—ã–¥–µ–ª–∏—Ç—å email (–±–µ–∑ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π)
# –ó–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ:
# –æ—Å—Ç–∞–≤–∏—Ç—å –ø–µ—Ä–≤—É—é –∏ –ø–æ—Å–ª–µ–¥–Ω—é—é –±—É–∫–≤—ã –∏–º–µ–Ω–∏
# –æ—Å—Ç–∞–ª—å–Ω–æ–µ –¥–æ @ ‚Äî –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ *
# –í—ã–≤–µ—Å—Ç–∏ —Å—Ç—Ä–æ–∫—É:
# Email: a***n@site.ru
# ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
# –ù–∏–∫–∞–∫–∏—Ö re
# –¢–æ–ª—å–∫–æ split, find, replace, —Å—Ä–µ–∑—ã
# –ö–æ–¥ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π, –Ω–æ –±–µ–∑ –∫–æ—Å—Ç—ã–ª–µ–π

log = "[2025-06-01 14:22] User: mironovAV, Email: admin@site.ru, Action: login"

first_step = log.split(" ")
masked_mail = first_step[5]
name,dmn = masked_mail.split("@")
masked_name = name[0] + "*" * (len(name)-2) + name[-1]
result = first_step[4] + " " + masked_name + "@" + dmn.replace(",","")
print(result)

# ‚úÖ –ó–∞–¥–∞—á–∞ 2 ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ —Å—Ç—Ä–æ–∫–∏
# üíº –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã –≤–∞–ª–∏–¥–∏—Ä—É–µ—à—å –≤—Ö–æ–¥–Ω–æ–π –ª–æ–≥ –∏–∑ –≤–Ω–µ—à–Ω–µ–π —Å–∏—Å—Ç–µ–º—ã.
# –ï—Å—Ç—å —Å—Ç—Ä–æ–∫–∞:
# log = "user: MironovAV | email: admin@site.ru | id: 104"
# üîπ –¢–≤–æ—è –∑–∞–¥–∞—á–∞:
# –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Ç—Ä–∏ –ø–æ–ª—è –µ—Å—Ç—å: user, email, id
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ id ‚Äî —ç—Ç–æ —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã
# –ï—Å–ª–∏ –≤—Å—ë –æ–∫ ‚Äî –≤—ã–≤–µ—Å—Ç–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∑–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π email (–æ—Å—Ç–∞–≤–∏—Ç—å –ø–µ—Ä–≤—É—é –∏ –ø–æ—Å–ª–µ–¥–Ω—é—é –±—É–∫–≤—ã)
# –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫ ‚Äî –≤—ã–≤–µ—Å—Ç–∏ "–û—à–∏–±–∫–∞ –≤ –ª–æ–≥–µ"
# üß† –ü—Ä–∏–º–µ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞:
# User: MironovAV, Email: a***n@site.ru
# üìå –ù–∏–∫–∞–∫–∏—Ö re, —Ç–æ–ª—å–∫–æ split, in, isdigit(), startswith() –∏ —Å—Ä–µ–∑—ã

log = "user: MironovAV | email: admin@site.ru | id: 104"


#–ø–µ—Ä–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –≤ —Å—Ç—Ä–æ–∫–µ –ª–æ–≥–∞ –µ—Å—Ç—å user,email –∏ id
if "user" in log and "email" in log and "id" in log: #–µ—Å–ª–∏ –≤ –ª–æ–≥–µ –µ—Å—Ç—å –≤—Å–µ —Ç—Ä–∏ –ø–æ–ª—è, —Ç–æ–≥–¥–∞ —Å–ª–µ–¥ —à–∞–≥
    parts = log.split(" | ") #—Ä–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ —Å–ø–∏—Å–æ–∫ –ø–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—é |
    #—Ä–∞–∑–±–∏–≤–∞–µ–º 2 –∏–Ω–¥–µ–∫—Å —Å id
    check_id = parts[2].split(": ") #—Ç—É—Ç –ø–æ–ª—É—á–∞–µ—Ç—Å—è —è –∑–∞—Ö–∞—Ä–¥–∫–æ–¥–∏–ª –ø–æ–¥ —Ç–µ–∫—É—â—É—é –∑–∞–¥–∞—á—É, –Ω–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ
    #–ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ 1 –∏–Ω–¥–µ–∫—Å check_id —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã
    if check_id[1].isdigit():
        #–µ—Å–ª–∏ –¥–∞, —Ç–æ —Ä–∞–∑–±–∏–≤–∞–µ–º part[1]
        parts_email = parts[1].split(": ")
        #—Ä–∞–∑–±–∏–≤–∞–µ–º masked_email –Ω–∞ name,domen
        name,domen = parts_email[1].split("@")
        #–º–∞—Å–∫–∏—Ä—É–µ–º name
        name = name[0] + "*" * (len(name) - 2) + name[-1]
        #—Å–æ–±–∏—Ä–∞–µ–º email
        masked_email = parts_email[0].capitalize() + " " + name + "@" + domen
        #—Å–æ–±–∏—Ä–∞–µ–º –ø–æ–ª–Ω—É—é —Å—Ç—Ä–æ–∫—É
        masked_log = parts[0] + ", " + masked_email
    #–≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—à–∏–±–∫—É –µ—Å–ª–∏ id —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã
    else:
        print("–û—à–∏–±–∫–∞ –≤ –ª–æ–≥–µ")
#–≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –Ω–µ –≤—Å–µ –ø–æ–ª—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
else:
    print("–í –ª–æ–≥–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã—Ö. –ù–∞—Å—Ç—Ä–æ–π –∑–∞–ø–∏—Å—å –≤ –ª–æ–≥–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø–ª–∑")
print(masked_log)

# üêû –ó–∞–¥–∞—á–∞ 3 ‚Äî –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç –∫—Ä–∏–≤—ã—Ö –ª–æ–≥–æ–≤
# –¢–µ–±–µ –ø—Ä–∏—à—ë–ª –ª–æ–≥ –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞:
# log = "user: , email: g!root$@nasa.gov, id: 10a4"
# üîπ –í —á—ë–º –ø—Ä–æ–±–ª–µ–º–∞:
# user ‚Äî –ø—É—Å—Ç–æ–π (–≤–æ–æ–±—â–µ –Ω–∏—á–µ–≥–æ)
# email ‚Äî —Å—Ç—Ä–∞–Ω–Ω—ã–π, —Å —Å–∏–º–≤–æ–ª–∞–º–∏ !, $
# id ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –±—É–∫–≤—ã
# üîπ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ –ø–æ–ª—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç (user, email, id)
# –£–±–µ–¥–∏—Ç—å—Å—è:
# user –Ω–µ –ø—É—Å—Ç–æ–π
# email —Å–æ–¥–µ—Ä–∂–∏—Ç @, –∏–º—è –¥–æ @ –Ω–µ –∫–æ—Ä–æ—á–µ 2 –±—É–∫–≤, –∏ —Ç–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω–∏—Ü–∞
# id —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã
# –ï—Å–ª–∏ –≤—Å—ë –æ–∫ ‚Äî –º–∞—Å–∫–∏—Ä—É–µ–º email (–æ—Å—Ç–∞–≤–∏—Ç—å 1 –∏ –ø–æ—Å–ª–µ–¥–Ω—é—é –±—É–∫–≤—ã –∏–º–µ–Ω–∏, –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî *)
# –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã ‚Äî –≤—ã–≤–µ—Å—Ç–∏ "–õ–æ–≥ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω" –∏ —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –Ω–µ —Ç–∞–∫
# üìå –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
# –õ–æ–≥ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω: id —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã, user –ø—É—Å—Ç–æ–π, email –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
# üìå –ú–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –æ—à–∏–±–∫–∏ –≤ —Å–ø–∏—Å–æ–∫ –∏ –≤—ã–≤–µ—Å—Ç–∏ –≤—Å–µ —Ä–∞–∑–æ–º, –∞ –º–æ–∂–Ω–æ –ø–æ —Ö–æ–¥—É.
# üõ† –ß—Ç–æ —Ç–µ–±–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
# split, in, strip, isdigit, isalpha
# .split("@"), .startswith(), .endswith(), .join()

log = "user: , email: g!root$@nasa.gov, id: 10a4"

if "user" in log and "email" in log and "id" in log:
    #—Ä–∞–∑–±–∏–≤–∞–µ–º log –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —Ä–∞–∑–±–∏—Ç–∏–π –∏ –ø—Ä–æ–≤–µ—Ä–æ–∫
    parts_log = log.split(",")
    #—Ä–∞–∑–±–∏–≤–∞–µ–º user –Ω–∞ usr,usr_name
    usr, usr_name = parts_log[0].split(": ")
    #–ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —É–∫–∞–∑–∞–Ω —é–∑–µ—Ä
    if usr_name.isalpha():
        #–µ—Å–ª–∏ –ª–æ–≥–∏–Ω —É–∫–∞–∑–∞–Ω, –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥–∞–ª—å—à–µ
        #—Ä–∞–∑–±–∏–≤–∞–µ–º email –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏
        parts_email = parts_log[1].split(": ")
        if "@" in parts_email: #–ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ @ –µ—Å—Ç—å –≤ –µ–º–µ–π–ª–µ
            name,domen = parts_email.split("@")
            if len(name) > 2:
                if name.isascii() and name.isalpha(): #–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –±—ã–ª–æ —Ä–µ—à–µ–Ω–æ —á–µ—Ä–µ–∑ if name.search(r'[A-Za-z]'), –ø–æ—Å–ª–µ —Ä–µ–≤—å—é –ø–æ–º–µ–Ω—è–ª
                    #—Ä–∞–∑–±–∏–≤–∞–µ–º id: 10a4 –Ω–∞ id –∏ value
                    col_id, id_value = parts_log[2].split(": ")
                #–ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ id_value —Å–æ—Å—Ç–æ–∏—Ç —Ç–æ–ª—å–∫–æ –∏–∑ —Ü–∏—Ñ—Ä
                    if id_value.isdigit(): #–µ—Å–ª–∏ –≤—Å–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç, –º–∞—Å–∫–∏—Ä—É–µ–º name –∏ —Å–æ–±–∏—Ä–∞–µ–º —Å—Ç—Ä–æ–∫—É —Å email
                        masked_name = name[0] + "*" * (len(name)-2) + name[-1]
                        masked_email = masked_name + "@" + domen
                        print(masked_email)
                    else:
                        print(f"–õ–æ–≥ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω, –≤ –ø–æ–ª–µ {col_id} –Ω–µ –º–æ–≥—É—Ç –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å–∏–º–≤–æ–ª—ã: {id_value}")
                else:
                    print(f"–õ–æ–≥ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω. –í –ª–æ–≥–∏–Ω–µ –ø–æ—á—Ç—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–∏–º–≤–æ–ª—ã: {name}")
            else: print(f"–î–ª–∏–Ω–∞ –ª–æ–≥–∏–Ω–∞ –º–µ–Ω—å—à–µ 2 —Å–∏–º–≤–æ–ª–æ–≤: {name}")
        else: print(f"–õ–æ–≥ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω. –í –ø–æ—á—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–∏–º–≤–æ–ª '@': {parts_email}")
    else: print(f"–õ–æ–≥ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω. –ù–µ —É–∫–∞–∑–∞–Ω user: '{usr_name}'")
else:
    print(f"–õ–æ–≥ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω. –í –ª–æ–≥–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–æ –∏–∑ –ø–æ–ª–µ–π: user/email/id")